<astro>
  <script>
    import { checkAuth } from "../utils/authentication";
    // Get the cookies

    document.onload = function () {
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(";").shift();
      }
      const cookies = getCookie("auth_token");
      // Check if the user is authorized
      const isAuthorized = checkAuth(cookies);

      // If the user is not authorized, redirect to the login page
      if (!isAuthorized) {
        redirectToLogin();
      }

      // Function to redirect to the login page
      function redirectToLogin() {
        console.log("Redirecting to the login page...");
      }
    };
  </script>

  <section>
    <div class="container">
      <h1>Private Page</h1>
      <p>
        This is a private page that can only be accessed by authenticated users.
      </p>
    </div>
  </section>
</astro>
